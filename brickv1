--// Brick_Lite.lua
-- VersÃ£o limpa com apenas Anti Unanchored Fling e Anti Trip
-- GUI original preservada
-- Feito por LUA Programming GOD

--== InicializaÃ§Ã£o de ServiÃ§os ==--
local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local UserInputService = game:GetService("UserInputService")
local TweenService = game:GetService("TweenService")

local LocalPlayer = Players.LocalPlayer
local PlayerGui = LocalPlayer:WaitForChild("PlayerGui")

--== Estrutura da GUI Original ==--
local ScreenGui = Instance.new("ScreenGui")
ScreenGui.Name = "Brick_Lite"
ScreenGui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling
ScreenGui.ResetOnSpawn = false
ScreenGui.IgnoreGuiInset = true
ScreenGui.Parent = PlayerGui

local MainFrame = Instance.new("Frame")
MainFrame.Name = "MainFrame"
MainFrame.Size = UDim2.new(0, 350, 0, 200)
MainFrame.Position = UDim2.new(0.5, -175, 0.5, -100)
MainFrame.BackgroundColor3 = Color3.fromRGB(25,25,25)
MainFrame.BackgroundTransparency = 0.3
MainFrame.BorderSizePixel = 0
MainFrame.Active = true
MainFrame.Draggable = true
MainFrame.Parent = ScreenGui

local Corner = Instance.new("UICorner")
Corner.CornerRadius = UDim.new(0, 12)
Corner.Parent = MainFrame

local Stroke = Instance.new("UIStroke")
Stroke.Color = Color3.fromRGB(0,0,0)
Stroke.Thickness = 2
Stroke.Transparency = 0.4
Stroke.Parent = MainFrame

local Title = Instance.new("TextLabel")
Title.Size = UDim2.new(1, 0, 0, 30)
Title.BackgroundTransparency = 1
Title.Text = "ðŸ§± Brick Protection Hub"
Title.TextColor3 = Color3.new(1,1,1)
Title.Font = Enum.Font.SourceSansBold
Title.TextSize = 18
Title.Parent = MainFrame

--== Container para os mÃ³dulos ==--
local ModuleContainer = Instance.new("Frame")
ModuleContainer.Name = "ModuleContainer"
ModuleContainer.Size = UDim2.new(1, -20, 1, -40)
ModuleContainer.Position = UDim2.new(0, 10, 0, 35)
ModuleContainer.BackgroundTransparency = 1
ModuleContainer.Parent = MainFrame

local UIList = Instance.new("UIListLayout")
UIList.Padding = UDim.new(0, 8)
UIList.FillDirection = Enum.FillDirection.Vertical
UIList.SortOrder = Enum.SortOrder.LayoutOrder
UIList.Parent = ModuleContainer

---------------------------------------------------------------------
--== MÃ“DULO 1: ANTI UNANCHORED FLING (ORIGINAL) ==--
---------------------------------------------------------------------
local function wha()
	getgenv().isnetworkowner = newcclosure(function(part)
		return (part.ReceiveAge == 0 and gethiddenproperty(part, "NetworkIsSleeping") == false)
	end)

	game.Players.LocalPlayer.SimulationRadius = math.huge
	game.Players.LocalPlayer.SimulationRadiusChanged:Connect(function()
		game.Players.LocalPlayer.ReplicationFocus = workspace
		sethiddenproperty(game.Players.LocalPlayer, "SimulationRadius", math.huge)
		sethiddenproperty(game.Players.LocalPlayer, "MaxSimulationRadius", math.huge)
		sethiddenproperty(game.Players.LocalPlayer, "MaximumSimulationRadius", math.huge)
	end)

	game:GetService("RunService").PreSimulation:Connect(function()
		local parts = workspace:GetPartBoundsInRadius(game.Players.LocalPlayer.Character.HumanoidRootPart.Position, 50)
		for _, part in next, parts do
			if part.Anchored == false and not isnetworkowner(part) and part.Velocity.Magnitude >= 4 and not game.Players:GetPlayerFromCharacter(part.Parent) then
				part.CanCollide = isnetworkowner(part)
				part.CanTouch = isnetworkowner(part)
				part.Velocity = Vector3.zero
				part.CustomPhysicalProperties = PhysicalProperties.new(0, 0, 0)
				part.Massless = not isnetworkowner(part)
				part.AssemblyLinearVelocity = Vector3.zero
				part.AssemblyAngularVelocity = Vector3.zero
				for _, phys in next, part:GetDescendants() do
					if phys:IsA("Constraint") or phys:IsA("BodyMover") then
						phys:Destroy()
					end
				end
			end
		end
	end)
end

---------------------------------------------------------------------
--== MÃ“DULO 2: ANTI TRIP (ORIGINAL) ==--
---------------------------------------------------------------------
local AntiTripSystem = { Enabled = false, Connections = {} }

local function toggleAntiTrip()
	if AntiTripSystem.Enabled then
		AntiTripSystem.Enabled = false
		if AntiTripSystem.Connections.heartbeat then
			AntiTripSystem.Connections.heartbeat:Disconnect()
			AntiTripSystem.Connections.heartbeat = nil
		end

		if AntiTripSystem.Connections.characterAdded then
			AntiTripSystem.Connections.characterAdded:Disconnect()
			AntiTripSystem.Connections.characterAdded = nil
		end
	else
		AntiTripSystem.Enabled = true
		local player = game.Players.LocalPlayer

		local function monitorHumanoid(humanoid)
			if AntiTripSystem.Connections.heartbeat then
				AntiTripSystem.Connections.heartbeat:Disconnect()
			end

			AntiTripSystem.Connections.heartbeat = game:GetService("RunService").Heartbeat:Connect(function()
				if not AntiTripSystem.Enabled or not humanoid or not humanoid.Parent then
					if AntiTripSystem.Connections.heartbeat then
						AntiTripSystem.Connections.heartbeat:Disconnect()
						AntiTripSystem.Connections.heartbeat = nil
					end
					return
				end

				local state = humanoid:GetState()
				if state == Enum.HumanoidStateType.Seated
				or state == Enum.HumanoidStateType.FallingDown
				or state == Enum.HumanoidStateType.Ragdoll then
					humanoid:ChangeState(Enum.HumanoidStateType.GettingUp)
				end

				if humanoid.Sit then
					humanoid.Sit = false
				end
			end)
		end

		if player.Character then
			local humanoid = player.Character:FindFirstChildOfClass("Humanoid")
			if humanoid then
				monitorHumanoid(humanoid)
			end
		end

		if AntiTripSystem.Connections.characterAdded then
			AntiTripSystem.Connections.characterAdded:Disconnect()
		end

		AntiTripSystem.Connections.characterAdded = player.CharacterAdded:Connect(function(character)
			if AntiTripSystem.Enabled then
				local humanoid = character:WaitForChild("Humanoid")
				monitorHumanoid(humanoid)
			end
		end)
	end
end

---------------------------------------------------------------------
--== BOTÃ•ES PARA OS MÃ“DULOS ==--
---------------------------------------------------------------------
local function createModuleButton(name, callback)
	local frame = Instance.new("Frame")
	frame.Size = UDim2.new(1, 0, 0, 40)
	frame.BackgroundColor3 = Color3.fromRGB(35, 35, 35)
	frame.BackgroundTransparency = 0.2
	frame.Parent = ModuleContainer

	local corner = Instance.new("UICorner")
	corner.CornerRadius = UDim.new(0, 8)
	corner.Parent = frame

	local stroke = Instance.new("UIStroke")
	stroke.Color = Color3.fromRGB(0, 0, 0)
	stroke.Thickness = 1
	stroke.Transparency = 0.5
	stroke.Parent = frame

	local label = Instance.new("TextLabel")
	label.Size = UDim2.new(0.7, 0, 1, 0)
	label.Position = UDim2.new(0.05, 0, 0, 0)
	label.BackgroundTransparency = 1
	label.Text = name
	label.TextColor3 = Color3.new(1,1,1)
	label.Font = Enum.Font.SourceSansBold
	label.TextSize = 16
	label.TextXAlignment = Enum.TextXAlignment.Left
	label.Parent = frame

	local button = Instance.new("TextButton")
	button.Size = UDim2.new(0.2, 0, 0.7, 0)
	button.Position = UDim2.new(0.75, 0, 0.15, 0)
	button.BackgroundColor3 = Color3.fromRGB(150, 50, 50)
	button.Text = "OFF"
	button.TextColor3 = Color3.new(1,1,1)
	button.Font = Enum.Font.SourceSansBold
	button.TextSize = 14
	button.Parent = frame

	local corner2 = Instance.new("UICorner")
	corner2.CornerRadius = UDim.new(1, 0)
	corner2.Parent = button

	local enabled = false
	button.MouseButton1Click:Connect(function()
		enabled = not enabled
		local color = enabled and Color3.fromRGB(50,150,70) or Color3.fromRGB(150,50,50)
		button.Text = enabled and "ON" or "OFF"
		TweenService:Create(button, TweenInfo.new(0.25, Enum.EasingStyle.Quad), {BackgroundColor3 = color}):Play()
		callback(enabled)
	end)
end

-- Registrar mÃ³dulos
createModuleButton("Anti Unanchored Fling", function(enabled)
	if enabled then
		wha()
	else
		print("[Anti-Fling] Desativado (sem loop contÃ­nuo)")
	end
end)

createModuleButton("Anti Trip", function(enabled)
	toggleAntiTrip()
end)

print("[âœ… Brick_Lite] Carregado com GUI original e 2 mÃ³dulos ativos.")
